{"version":3,"sources":["components/Input.js","components/Button.js","components/Form.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","services/servicesApi.js","App.js","index.js"],"names":["Input","className","type","name","value","placeholder","onChange","autoComplete","autoFocus","Button","children","onClick","Form","state","handleInputChange","e","inputValue","currentTarget","setState","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warning","this","Component","Searchbar","ImageGalleryItem","item","id","webformatURL","src","alt","STATUS","ImageGallery","response","error","page","status","onLoadMore","prevState","prevProps","searchQuery","searchParams","URLSearchParams","q","per_page","image_type","order","url","fetch","then","json","hits","length","console","log","Promise","reject","Error","fetchArticles","r","map","App","handleFormSubmit","position","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gPAEe,SAASA,EAAT,GAAsE,EAAtDC,UAAuD,IAA5CC,EAA2C,EAA3CA,KAAMC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,SACtE,OACI,uBAAOJ,KAAMA,EAAMC,KAAMA,EAAMC,MAAOA,EAAOC,YAAaA,EAAaC,SAAUA,EAAUC,aAAa,MAAMC,WAAS,ICFhH,SAASC,EAAT,GAA4C,IAA3BP,EAA0B,EAA1BA,KAAMQ,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,QAC5C,OACI,wBAAQT,KAAMA,EAAMS,QAASA,EAA7B,SAAuCD,I,ICyChCE,E,4MAnCXC,MAAQ,CACJT,MAAO,I,EAGXU,kBAAoB,SAAAC,GAChB,IAAMC,EAAaD,EAAEE,cAAcb,MAEnC,EAAKc,SAAS,CAACd,MAAOY,EAAWG,iB,EAGrCC,aAAe,SAACL,GACZA,EAAEM,iBADgB,IAGVjB,EAAU,EAAKS,MAAfT,MAEY,KAAjBA,EAAMkB,QAMT,EAAKC,MAAMC,SAASpB,GACpB,EAAKc,SAAS,CAACd,MAAO,MANlBqB,IAAMC,QAAQ,qG,uDAUlB,OACI,uBAAMF,SAAUG,KAAKP,aAArB,UACI,cAACpB,EAAD,CAAOE,KAAK,OAAOC,KAAK,SAASC,MAAOuB,KAAKd,MAAMT,MAAOC,YAAY,2BAA2BC,SAAUqB,KAAKb,oBAChH,cAACL,EAAD,CAAQP,KAAK,SAASQ,SAAS,gD,GA9B5BkB,aCLJ,SAASC,EAAT,GAAgC,IAAZL,EAAW,EAAXA,SAE/B,OACI,iCACI,cAAC,EAAD,CAAMA,SAAUA,M,WCRb,SAASM,EAAT,GAAmC,IAARC,EAAO,EAAPA,KAC/BC,EAAoBD,EAApBC,GAAIC,EAAgBF,EAAhBE,aAEX,OACI,oBAAahC,UAAU,mBAAvB,SACI,qBAAK+B,GAAIA,EAAIE,IAAKD,EAAcE,IAAI,GAAGlC,UAAU,4BAD5C+B,GCOjB,IAAMI,EAEO,UAFPA,EAGQ,WAOOC,E,4MACjBxB,MAAQ,CACJyB,SAAU,GACVC,MAAO,KACPC,KAAM,EACNC,OAAQ,Q,EAeZC,WAAa,WACT,EAAKxB,UAAS,SAAAyB,GAAS,MAAK,CAACH,KAAMG,EAAUH,KAAO,O,iEAZrCI,EAAWD,GAAY,IAAD,OAElCC,EAAUC,cAAgBlB,KAAKJ,MAAMsB,aACpClB,KAAKT,SAAS,CAACoB,SAAU,GAAIE,KAAM,EAAGC,OAAQL,IAG/CQ,EAAUC,cAAgBlB,KAAKJ,MAAMsB,aAAeF,EAAUH,OAASb,KAAKd,MAAM2B,MCjC9E,SAAuBK,EAAaL,GAC/C,IAAMM,EAAe,IAAIC,gBAAgB,CACrCC,EAAGH,EACHL,KAAMA,EACNS,SAAU,GACVC,WAAY,QACZC,MAAO,YAGLC,EAAG,UAXC,2BAWD,gBAZG,qCAYH,YAAiCN,GAE1C,OAAOO,MAAMD,GAAKE,MAAK,SAAAhB,GAAQ,OAAIA,EAASiB,UAAQD,MAAK,SAAAhB,GAErD,OAA4B,IAAzBA,EAASkB,KAAKC,QACbC,QAAQC,IAAI,uEACLC,QAAQC,OAAO,IAAIC,MAAJ,0KAGnBxB,EAASkB,QDgBZO,CAAcpC,KAAKJ,MAAMsB,YAAalB,KAAKd,MAAM2B,MAAMc,MAAK,SAAAU,GAAC,OAAI,EAAK9C,UAAS,SAAAyB,GAAS,MAAK,CAACL,SAAS,GAAD,mBAAMK,EAAUL,UAAhB,YAA6B0B,IAAIvB,OAAQL,W,+BAQ5I,IAAD,EAEmCT,KAAKd,MAAtC4B,EAFF,EAEEA,OAAQH,EAFV,EAEUA,SAFV,EAEoBI,WAE1B,OACA,gCACK,oBAAIzC,UAAU,eAAd,SACgB,SAAXwC,GAAgC,YAAXA,GAAyBH,EAAS2B,KAAI,SAAAlC,GAAI,OAAI,cAACD,EAAD,CAAkBC,KAAMA,SAGrF,aAAXU,GAA0B,cAAC,EAAD,CAAUvC,KAAK,SAASQ,SAAS,YAAYC,QAASgB,KAAKe,oB,GAlCxDd,aEdrBsC,E,4MAEnBrD,MAAQ,CACNgC,YAAa,I,EAGfsB,iBAAmB,SAAA/D,GACjB,EAAKc,SAAS,CAAC2B,YAAazC,K,uDAI5B,OACE,qCACE,cAACyB,EAAD,CAAWL,SAAUG,KAAKwC,mBAC1B,cAAC,EAAD,CAActB,YAAalB,KAAKd,MAAMgC,cAEtC,cAAC,IAAD,CAAgBuB,SAAS,YAAYC,UAAW,c,GAhBvBzC,aCFjC0C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.82b36e9e.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nexport default function Input({className, type, name, value, placeholder, onChange}) {\r\n    return (\r\n        <input type={type} name={name} value={value} placeholder={placeholder} onChange={onChange} autoComplete='off' autoFocus/>\r\n    )\r\n}\r\n\r\nInput.propTypes = {\r\n    type: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    placeholder: PropTypes.string,\r\n}","import PropTypes from 'prop-types';\r\n\r\nexport default function Button({type, children, onClick}) {\r\n    return (\r\n        <button type={type} onClick={onClick}>{children}</button>\r\n    )\r\n}\r\n\r\n\r\n\r\nButton.propTypes = {\r\n    type: PropTypes.string.isRequired,\r\n    children: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func,\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Input from './Input';\r\nimport Button from \"./Button\";\r\n\r\nclass Form extends Component {\r\n    state = {\r\n        value: '',\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const inputValue = e.currentTarget.value;\r\n\r\n        this.setState({value: inputValue.toLowerCase()})\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { value } = this.state;\r\n\r\n        if(value.trim() === '') {\r\n            toast.warning('Вы ничего не ввели...');\r\n            \r\n            return\r\n        }\r\n\r\n        this.props.onSubmit(value);\r\n        this.setState({value: ''})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmit}> \r\n                <Input type='text' name='search' value={this.state.value} placeholder='Search images and photos' onChange={this.handleInputChange}/> \r\n                <Button type='submit' children='Искать' />\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Form;\r\n\r\nForm.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,    \r\n}","import PropTypes from 'prop-types';\r\n\r\nimport Form from './Form'\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n    \r\n    return (\r\n        <header>\r\n            <Form onSubmit={onSubmit}/>\r\n        </header>\r\n    )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,    \r\n}","export default function ImageGalleryItem({item}) {\r\n    const {id, webformatURL} = item;\r\n\r\n    return (\r\n        <li key={id} className=\"ImageGalleryItem\">\r\n            <img id={id} src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n        </li>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport LoadMore from './Button';\r\n\r\nimport fetchArticles from '../services/servicesApi';\r\n \r\nconst STATUS = {\r\n    IDLE: 'idle',\r\n    PENDING: 'pending',\r\n    RESOLVED: 'resolved',\r\n    REJECTED: 'rejected',\r\n    // PRIMARY: 'primary',\r\n    // SUBSEQUENT: 'subsequent',\r\n\r\n}\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        response: [],\r\n        error: null,\r\n        page: 1,\r\n        status: 'idle',\r\n        // currentSearchQueryState: '',\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if(prevProps.searchQuery !== this.props.searchQuery) {\r\n            this.setState({response: [], page: 1, status: STATUS.PENDING})            \r\n        }\r\n\r\n        if(prevProps.searchQuery !== this.props.searchQuery || prevState.page !== this.state.page) {\r\n            fetchArticles(this.props.searchQuery, this.state.page).then(r => this.setState(prevState => ({response: [...prevState.response, ...r], status: STATUS.RESOLVED})))\r\n        }\r\n    }\r\n\r\n    onLoadMore = () => {\r\n        this.setState(prevState => ({page: prevState.page + 1}))\r\n    }\r\n\r\n    render () {\r\n\r\n        const { status, response, onLoadMore } = this.state;\r\n\r\n        return (\r\n        <div>\r\n             <ol className=\"ImageGallery\">\r\n                {(status !== 'idle' && status !== 'pending') && response.map(item => <ImageGalleryItem item={item} />)}          \r\n            </ol>\r\n\r\n            {status === 'resolved' &&  <LoadMore type='button' children=\"Load More\" onClick={this.onLoadMore}/>}\r\n        </div>)\r\n    }\r\n}\r\n\r\n\r\n\r\n// if(prevProps.searchQuery !== this.props.searchQuery) {\r\n//     this.setState({currentSearchQuery: this.props.searchQuery, page: 1, response: []})\r\n// }\r\n\r\n// if(prevProps.searchQuery !== this.state.currentSearchQuery || prevState.page !== this.state.page) {\r\n//     fetchArticles(this.props.searchQuery, this.state.page)\r\n//     .then(r => this.setState(prevState => ({response: [...prevState.response, ...r.hits], status: STATUS.RESOLVED})))\r\n//     .catch(errorMsg => this.setState({error: errorMsg, status: STATUS.REJECTED}));\r\n// }","const API_KEY = '19085277-779e4bd4c925c04676eaaf904';\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\n\r\nexport default function fetchArticles(searchQuery, page) {\r\n    const searchParams = new URLSearchParams({\r\n        q: searchQuery,\r\n        page: page,\r\n        per_page: 12,\r\n        image_type: 'photo',\r\n        order: 'popular',\r\n    })\r\n\r\n    const url = `${BASE_URL}?key=${API_KEY}&${searchParams}`;\r\n\r\n    return fetch(url).then(response => response.json()).then(response => {\r\n        \r\n        if(response.hits.length === 0) {\r\n            console.log(\"внутри еррор\");\r\n            return Promise.reject(new Error(`Некоректные параметры запроса`))\r\n        }\r\n\r\n        return response.hits;\r\n    })\r\n}","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\n\nexport default class App extends Component {\n\n  state = {\n    searchQuery: '',\n  }\n\n  handleFormSubmit = value => {\n    this.setState({searchQuery: value})\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery}/>\n\n        <ToastContainer position='top-right' autoClose={2500}/>\n      </>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}